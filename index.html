<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Music Theory 101</title>

		<link rel="stylesheet" type="text/css" href="css/reveal.css">
		<link rel="stylesheet" type="text/css" href="css/theme/centribo_orange.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!-- QuickPlotJS -->
		<script type="text/javascript" src="js/quickplotmini.js"></script>

	</head>
	<body>
		<!-- SLIDES -->
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<h1>Music Theory 101</h1></br>
						<h4>Pitch, Harmonies, Chords, & Chord Progressions</h4>

						<a href="http://www.github.com/Centribo/music-theory-basics-tutorial">http://www.github.com/Centribo/music-theory-basics-tutorial</a>
					</section>
					<section>
						<h1>Adam Leung</h1>
						<a href="http://www.adamleung.me">http://www.adamleung.me</a>
					</section>
				</section>

				<section>
					<h1>Topics:</h1>
					<ul>
						<li>Why Learn Music Theory?</li>
						<li>Hearing & Listening</li>
						<li>Pitch & Sine Waves</li>
						<li>The 13 Intervals of Western Music</li>
						<li>Chords (Triads)</li>
						<li>Scales</li>
						<li>Chord Progressions</li>
						<li>Bonus: Modes</li>
						<li>Bonus: How Do We Tune Our Instruments?</li>
					</ul>
				</section>

				<!-- Why Learn Music Theory? -->
				<section>
					<section>
						<h1>Why Learn Music Theory?</h1>
					</section>
					
					<section>
						<ul>
							<li>Music as a language</li>
							<li>Communication with musicians/composers</li>
							<li>Writing/Understanding music</li>
							<li>Music appreciation</li>
							<li>Playing instruments</li>
							<li>Learning is fun/interesting ü§î</li>
						</ul>
					</section>

					<section>
						<h4>Prescriptive:</h4><blockquote>"relating to the imposition or enforcement of a rule or method."</blockquote>
						<h4>Descriptive:</h4><blockquote>"serving or seeking to describe."</blockquote>
						</br>
						<b>Adam Neely: "Why you should learn music theory (Prescriptivism vs Descriptivism)"</b>
						<a href="http://www.youtube.com/watch?v=49alQj7c5ps">http://www.youtube.com/watch?v=49alQj7c5ps</a>
					</section>

					<section>
						My opinion:
						<blockquote>Music theory aims to <b>describe</b> what artists do. It is a very useful tool for analyzing & understanding music, as well as providing a reliable foundation for composing music. Ultimately, regardless of what music theory says, your ears are the final judge.</blockquote>
					</section>
				</section>

				<!-- Hearing & Listening -->
				<section>
					<section>
						<h1>Hearing & Listening</h1>
					</section>

						
					<section>
						<h2>Sound</h2>
						<img src="img/sound_waves_diagram.jpg">
						Source: <a href="https://www.scienceabc.com/pure-sciences/movement-of-sound-waves-through-different-media.html">www.scienceabc.com</a>
					</section>

					<section>
						<h2>Ears</h2>
						<img src="img/ear_diagram.png">
					</section>

					<section>
						<h4>Hearing:</h4><blockquote>The physiological process of converting sound waves to a stimulus in the brain.</blockquote>
						<h4>Listening:</h4><blockquote>The conscious process of allocating attention to what one hears, and analyzing/understanding that stimulus.</blockquote>
					</section>

					<section>
							Takeaway:
							<blockquote>What you hear and how you listen affects your subjective experience of music. Emotional and physical context come together with other factors to contirbute to what you listen to and hear.</blockquote>
					</section>
				</section>

				<!-- Pitch & Sine Waves -->
				<section>
					<section>
						<h1>Pitch & Sine Waves</h1>
					</section>

					<section>
						<h2 style="text-transform: none;">Sin(t)</h2>
						<canvas id="canvas_1" width=400px height=400px class="canvas">ERROR LOADING CANVAS</canvas>
						
						<script type="text/javascript">
							var canvas1 = document.getElementById("canvas_1");
							var quickplot1 = new QuickPlot(canvas1);
							var halfRange1 = 4;
							var halfDomain1 = 4;

							var offset1 = 0;

							quickplot1.setFunction(function(x){return Math.sin(x + offset1)});
							quickplot1.setGraphDomain(-halfDomain1, halfDomain1);
							quickplot1.setGraphRange(-halfRange1, halfRange1);

							var time1;
							function draw1() {
								requestAnimationFrame(draw1);
								var now = new Date().getTime();
								var dt = (now - (time1 || now)) / 1000;
								time1 = now;
								
								offset1 += dt * Math.PI;
								quickplot1.drawGraph();
							}

							draw1();

						</script>
					</section>

					<section>
						<h2 style="text-transform: none;">Amplitude [A Sin(t)]</h2>
						<img src="img/amplitude_with_A_diagram.png">
						<br><small>Amplitude ‚àù Volume (The larger the amplitude, the louder)</small>
					</section>

					<section>
						<h2 style="text-transform: none;">Frequency [Sin(Ft)]</h2>
						<img src="img/frequency_with_F_diagram.png">
						<br><small>F = Frequency in hertz (repeats per second)</small>
						<br><small>Frequency ‚àù Pitch (The higher the frequency, the higher the pitch)</small>
					</section>

					<section>
							<h2 style="text-transform: none;">A Sin(Ft)</h2>
							
							<canvas id="canvas_2" width=400px height=400px class="canvas">ERROR LOADING CANVAS</canvas>
							<br>F = <b id="frequency_value"></b><input id="frequency_slider" type="range" min="220" max="880" value="440">
							<br>A = <b id="amplitude_value"></b><input id="amplitude_slider" type="range" min="0" max="10" value="1">
							<br><button onclick="toggleOscillatorAudio()">Play/Stop</button>
							<select id="oscillator_type_selector">
								<option value="sine">Sine</option>
								<option value="square">Square</option>
								<option value="sawtooth">Sawtooth</option>
								<option value="triangle">Triangle</option>
							</select>
							
							<script type="text/javascript">
								var frequencySlider = document.getElementById("frequency_slider");
								var frequencyValue = document.getElementById("frequency_value");
								var amplitudeValue = document.getElementById("amplitude_value");
								var amplitudeSlider = document.getElementById("amplitude_slider");
								var oscillatorTypeSelector = document.getElementById("oscillator_type_selector");
								var canvas2 = document.getElementById("canvas_2");
								var quickplot2 = new QuickPlot(canvas2);
								var halfRange = 10;
								var halfDomain = 10;
								var offset = 0;
								
								var audioCtx;
								var o;
								var g;

								function toggleOscillatorAudio(){
									if(audioCtx){
										o.stop();
										// g.close();
										audioCtx.close();
										audioCtx = null;
									} else {
										audioCtx = new AudioContext();
										o = audioCtx.createOscillator();
										g = audioCtx.createGain();
										o.type = oscillatorTypeSelector.value;
										g.gain.value = 0.1;
										g.connect(audioCtx.destination);
										o.connect(g);
										o.start();
									}
								}
	
								quickplot2.setFunction(function(x){
									var freq = frequencySlider.value/220;
									var finalX = (x + offset) * freq;

									switch(oscillatorTypeSelector.value){
										case "triangle":
										// TODO: FILL IN THIS FUNCTION
										// return Math.abs(finalX/32 % frequencySlider.value);
										
										case "sine":
											return amplitudeSlider.value * Math.sin(finalX);
										break;
										case "square":
											return amplitudeSlider.value * Math.pow(-1, Math.floor(finalX/4));
										break;
										case "sawtooth":
											return (amplitudeSlider.value*2 * ((finalX/8) - Math.floor(finalX/8))) - amplitudeSlider.value;
										break;
										default:
											return x;
										break;
									}
								});
								quickplot2.setGraphDomain(-halfDomain, halfDomain);
								quickplot2.setGraphRange(-halfRange, halfRange);
	
								var time2;
								function draw2() {
									requestAnimationFrame(draw2);
									var now = new Date().getTime();
									var dt = (now - (time2 || now)) / 1000;
									time2 = now;
									
									offset += dt * Math.PI;

									quickplot2.drawGraph();
									if(audioCtx){
										g.gain.value = amplitudeSlider.value/10;
										o.frequency.value = frequencySlider.value
									}
									
									frequencyValue.innerText = frequencySlider.value;
									amplitudeValue.innerText = amplitudeSlider.value;
								}
								draw2();
	
							</script>
					</section>

					<section>
						<blockquote>Humans can generally hear between ~20Hz to ~20, 000Hz (20kHz). <br>(<a href="https://en.wikipedia.org/wiki/Hearing_range">Wikipedia</a>)</blockquote>
						<blockquote>Most modern instruments are tuned with middle A = 440hz. <br>(<a href="https://www.iso.org/standard/3601.html">International Organization for Standardization</a>)</blockquote>
					</section>

				</section>

				<!-- The 13 Intervals of Western Music -->
				<section>
					<section>
						<h1>The 13 Intervals of Western Music‚Ñ¢</h1>
					</section>
				</section>
			
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
